<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú - Sabores del Valle</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-section">
                <img id="restaurant-logo" src="/placeholder.svg?height=50&width=50" alt="Logo" class="logo">
                <h1 id="restaurant-name" class="restaurant-name">Sabores del Valle</h1>
            </div>
            <nav class="nav">
                <ul class="nav-list">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="offers.html">Ofertas</a></li>
                    <li><a href="login.html">Iniciar Sesión</a></li>
                    <li><a href="register.html">Registro</a></li>
                    <li id="admin-link" style="display: none;"><a href="admin.html">Admin</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="menu-main">
        <div class="container">
            <h1>Nuestro Menú</h1>
            <p id="menu-description" class="menu-description">
                Descubre nuestra selección de platillos preparados con ingredientes frescos y técnicas culinarias tradicionales.
            </p>

            <div class="menu-categories" id="menu-categories">
                <!-- Las categorías se cargarán dinámicamente desde JavaScript -->
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 <span id="footer-name">Sabores del Valle</span>. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Cargar menú dinámicamente
        function loadDynamicMenu() {
            const menuData = JSON.parse(localStorage.getItem('menuData')) || getDefaultMenuData();
            const menuCategories = document.getElementById('menu-categories');
            
            menuCategories.innerHTML = Object.entries(menuData).map(([categoryName, dishes]) => `
                <div class="menu-category">
                    <h2>${categoryName}</h2>
                    <div class="menu-items">
                        ${dishes.map(dish => {
                            if (dish.image) {
                                return `
                                    <article class="menu-item-with-image">
                                        <img 
                                            src="${dish.image}" 
                                            alt="${dish.name}" 
                                            class="menu-item-image" 
                                            loading="lazy"
                                            onerror="this.src='placeholder.jpg'"
                                        >
                                        <div class="item-info">
                                            <h3>${dish.name}</h3>
                                            <p>${dish.description}</p>
                                            <span class="price">${dish.price}</span>
                                        </div>
                                    </article>
                                `;
                            } else {
                                return `
                                    <article class="menu-item-without-image">
                                        <div class="item-info">
                                            <h3>${dish.name}</h3>
                                            <p>${dish.description}</p>
                                            <span class="price">${dish.price}</span>
                                        </div>
                                    </article>
                                `;
                            }
                        }).join('')}
                    </div>
                </div>
            `).join('');
        }
        
        // Datos por defecto del menú
        function getDefaultMenuData() {
            return {
                "Entradas": [
                    {
                        "name": "Bruschetta Mediterránea",
                        "description": "Pan tostado con tomate, albahaca y mozzarella fresca",
                        "price": "$8.50",
                        "image": "https://images.unsplash.com/photo-1572695157366-5e585ab2b69f?w=400&h=300&fit=crop"
                    },
                    {
                        "name": "Carpaccio de Res",
                        "description": "Finas láminas de res con rúcula y parmesano",
                        "price": "$12.75",
                        "image": "https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400&h=300&fit=crop"
                    },
                    {
                        "name": "Ceviche de Camarones",
                        "description": "Camarones frescos marinados en limón con cilantro",
                        "price": "$14.25",
                        "image": "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop"
                    }
                ],
                "Platos Principales": [
                    {
                        "name": "Filete de Res a la Parrilla",
                        "description": "Acompañado de papas asadas y vegetales de temporada",
                        "price": "$28.90",
                        "image": "https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=300&h=200&fit=crop"
                    },
                    {
                        "name": "Salmón en Costra de Hierbas",
                        "description": "Con puré de coliflor y salsa de mantequilla al limón",
                        "price": "$24.50",
                        "image": "https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=300&h=200&fit=crop"
                    },
                    {
                        "name": "Paella Valenciana",
                        "description": "Arroz con mariscos, pollo y azafrán (para 2 personas)",
                        "price": "$35.00",
                        "image": "https://images.unsplash.com/photo-1534080564583-6be75777b70a?w=300&h=200&fit=crop"
                    },
                    {
                        "name": "Lasaña de la Casa",
                        "description": "Con carne, bechamel y quesos gratinados",
                        "price": "$18.75"
                    }
                ],
                "Postres": [
                    {
                        "name": "Tiramisú Clásico",
                        "description": "Con café espresso y mascarpone",
                        "price": "$7.50"
                    },
                    {
                        "name": "Cheesecake de Frutos Rojos",
                        "description": "Con salsa de fresas y arándanos",
                        "price": "$8.25"
                    },
                    {
                        "name": "Flan de Vainilla",
                        "description": "Tradicional flan casero con caramelo",
                        "price": "$6.75"
                    }
                ],
                "Bebidas": [
                    {
                        "name": "Vinos de la Casa",
                        "description": "Selección de vinos tintos y blancos",
                        "price": "$6.00 - $15.00"
                    },
                    {
                        "name": "Cócteles Especiales",
                        "description": "Mojito, Margarita, Pisco Sour",
                        "price": "$8.50"
                    },
                    {
                        "name": "Jugos Naturales",
                        "description": "Naranja, mango, maracuyá",
                        "price": "$4.50"
                    }
                ]
            };
        }
        
        // Cargar el menú cuando se carga la página
        document.addEventListener('DOMContentLoaded', loadDynamicMenu);
    </script>
</body>
</html>