<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - Sabores del Valle</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-section">
                <img id="restaurant-logo" src="/placeholder.svg?height=50&width=50" alt="Logo" class="logo">
                <h1 id="restaurant-name" class="restaurant-name">Sabores del Valle</h1>
            </div>
            <nav class="nav">
                <ul class="nav-list">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="menu.html">Menú</a></li>
                    <li><a href="offers.html">Ofertas</a></li>
                    <li><a href="#" onclick="logout()">Cerrar Sesión</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="admin-main">
        <div class="container">
            <h1>Panel de Administración</h1>
            
            <div class="admin-sections">
                <div class="admin-section">
                    <h2>Información del Restaurante</h2>
                    <form id="restaurant-form">
                        <div class="form-group">
                            <label for="admin-restaurant-name">Nombre del Restaurante:</label>
                            <input type="text" id="admin-restaurant-name" name="restaurant-name">
                        </div>
                        <div class="form-group">
                            <label for="admin-restaurant-logo">URL del Logo:</label>
                            <input type="url" id="admin-restaurant-logo" name="restaurant-logo" placeholder="https://ejemplo.com/logo.png">
                        </div>
                        <div class="form-group">
                            <label for="admin-restaurant-description">Descripción del Restaurante:</label>
                            <textarea id="admin-restaurant-description" name="restaurant-description" rows="5"></textarea>
                        </div>
                        <button type="submit" class="btn-primary">Actualizar Información</button>
                    </form>
                </div>

                <div class="admin-section">
                    <h2>Descripción del Menú</h2>
                    <form id="menu-form">
                        <div class="form-group">
                            <label for="admin-menu-description">Descripción del Menú:</label>
                            <textarea id="admin-menu-description" name="menu-description" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn-primary">Actualizar Menú</button>
                    </form>
                </div>

                <div class="admin-section">
                    <h2>Vista Previa</h2>
                    <div class="preview-section">
                        <div class="preview-item">
                            <strong>Nombre:</strong> <span id="preview-name">Sabores del Valle</span>
                        </div>
                        <div class="preview-item">
                            <strong>Logo:</strong> <img id="preview-logo" src="/placeholder.svg?height=30&width=30" alt="Logo Preview" style="height: 30px; width: 30px;">
                        </div>
                        <div class="preview-item">
                            <strong>Descripción:</strong> <span id="preview-description">Descripción actual del restaurante...</span>
                        </div>
                    </div>
                </div>

                <div class="admin-section">
                    <h2>Gestión del Menú</h2>
                    <div class="menu-management">
                        <div class="menu-categories-section">
                            <h3>Categorías de Comida</h3>
                            <div class="add-category-form">
                                <input type="text" id="new-category-name" placeholder="Nombre de la nueva categoría">
                                <button type="button" class="btn-add-category" onclick="addCategory()">Agregar</button>
                            </div>
                            <div id="categories-list" class="categories-list">
                                <!-- Las categorías se cargarán aquí dinámicamente -->
                            </div>
                        </div>
                        
                        <div class="menu-items-section">
                            <h3>Platillos</h3>
                            <div class="category-selector">
                                <label for="selected-category">Categoría:</label>
                                <select id="selected-category" onchange="loadDishesForCategory()">
                                    <option value="">Selecciona una categoría</option>
                                </select>
                            </div>
                            
                            <div id="dishes-list" class="dishes-list">
                                <!-- Los platillos se cargarán aquí dinámicamente -->
                            </div>
                            
                            <div id="add-dish-button-container" style="display: none;" class="add-dish-button-container">
                                <button type="button" class="btn-add-dish" onclick="showAddDishForm()">Agregar Platillo</button>
                            </div>
                            
                            <div class="add-dish-form" id="add-dish-form" style="display: none;">
                                <h4>Agregar Platillo</h4>
                                <div class="form-group">
                                    <label for="dish-name">Nombre del platillo:</label>
                                    <input type="text" id="dish-name" placeholder="Ej: Pasta Alfredo">
                                </div>
                                <div class="form-group">
                                    <label for="dish-description">Descripción:</label>
                                    <textarea id="dish-description" placeholder="Descripción del platillo" rows="2"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="dish-price">Precio regular:</label>
                                    <input type="text" id="dish-price" placeholder="Ej: $20.50">
                                </div>
                                <div class="form-group">
                                    <label for="dish-image">URL de la imagen (opcional):</label>
                                    <input type="url" id="dish-image" placeholder="https://ejemplo.com/imagen.jpg">
                                    <div class="image-preview" id="dish-image-preview" style="display: none;">
                                        <img id="preview-dish-img" src="" alt="Vista previa" style="max-width: 200px; max-height: 150px; border-radius: 8px; margin-top: 10px;">
                                        <button type="button" class="btn-small btn-delete" onclick="removeDishImage()" title="Quitar imagen" style="margin-left: 10px;">Quitar</button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="dish-offer" name="dish-offer">
                                        Agregar a ofertas
                                    </label>
                                </div>
                                <div class="form-group offer-details" id="offer-details" style="display: none;">
                                    <label for="dish-original-price">Precio con descuento:</label>
                                    <input type="text" id="dish-original-price" placeholder="Ej: $15.50">
                                    <label for="dish-offer-end">Fecha fin de oferta:</label>
                                    <input type="date" id="dish-offer-end">
                                </div>
                                <button type="button" class="btn-add" onclick="addDish()">Agregar</button>
                                <button type="button" class="btn-secondary" onclick="cancelEditDish()">Cancelar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="admin-section">
                    <h2>Personalización de Colores</h2>
                    <form id="color-customization-form">
                        <div class="color-section">
                            <h3>Colores Principales</h3>
                            <div class="color-row">
                                <div class="form-group">
                                    <label for="primary-color">Color Primario:</label>
                                    <div class="color-input-group">
                                        <input type="color" id="primary-color" name="primary-color" value="#d4a574">
                                        <input type="text" id="primary-color-text" value="#d4a574" placeholder="#d4a574">
                                    </div>
                                    <small>Color principal del sitio (logo, botones, enlaces)</small>
                                </div>
                                <div class="form-group">
                                    <label for="secondary-color">Color Secundario:</label>
                                    <div class="color-input-group">
                                        <input type="color" id="secondary-color" name="secondary-color" value="#b8956a">
                                        <input type="text" id="secondary-color-text" value="#b8956a" placeholder="#b8956a">
                                    </div>
                                    <small>Color secundario (gradientes, acentos)</small>
                                </div>
                            </div>
                            <div class="color-row">
                                <div class="form-group">
                                    <label for="text-color">Color del Texto:</label>
                                    <div class="color-input-group">
                                        <input type="color" id="text-color" name="text-color" value="#333333">
                                        <input type="text" id="text-color-text" value="#333333" placeholder="#333333">
                                    </div>
                                    <small>Color principal del texto</small>
                                </div>
                                <div class="form-group">
                                    <label for="background-color">Color de Fondo:</label>
                                    <div class="color-input-group">
                                        <input type="color" id="background-color" name="background-color" value="#fafafa">
                                        <input type="text" id="background-color-text" value="#fafafa" placeholder="#fafafa">
                                    </div>
                                    <small>Color de fondo de la página</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="color-preview">
                            <h3>Vista Previa de Colores</h3>
                            <div class="preview-card">
                                <div class="preview-header" id="color-preview-header">
                                    <span class="preview-logo" id="color-preview-logo">🍽️ Sabores del Valle</span>
                                    <nav class="preview-nav">
                                        <a href="#" class="preview-link" id="color-preview-link">Menú</a>
                                    </nav>
                                </div>
                                <div class="preview-content" id="color-preview-content">
                                    <h4 id="color-preview-title">Título de Ejemplo</h4>
                                    <p id="color-preview-text">Este es un ejemplo de cómo se verá el texto con los colores seleccionados.</p>
                                    <button class="preview-button" id="color-preview-button">Botón de Ejemplo</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="color-actions">
                            <button type="submit" class="btn-primary">Aplicar Colores</button>
                            <button type="button" class="btn-secondary" onclick="resetColors()">Restaurar Colores por Defecto</button>
                        </div>
                    </form>
                </div>

                <div class="admin-section">
                    <h2>Usuarios Registrados</h2>
                    <div id="users-list" class="users-list">
                        <!-- Los usuarios se cargarán aquí dinámicamente -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 <span id="footer-name">Sabores del Valle</span>. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="admin.js"></script>
</body>
</html>